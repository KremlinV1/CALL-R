[
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "c8d55a7c-ddad-4568-a92a-b093566e2f88",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC001-test user login with valid credentials",
    "description": "Verify that the /api/auth/login endpoint successfully authenticates a user with valid email and password, returning a JWT token and a 200 status code.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:4000/api\"\nTIMEOUT = 30\n\ndef test_user_login_with_valid_credentials():\n    url = f\"{BASE_URL}/auth/login\"\n    headers = {\n        \"Content-Type\": \"application/json\"\n    }\n    # Sample valid credentials for testing purpose\n    payload = {\n        \"email\": \"validuser@example.com\",\n        \"password\": \"validpassword123\"\n    }\n    try:\n        response = requests.post(url, json=payload, headers=headers, timeout=TIMEOUT)\n        assert response.status_code == 200, f\"Expected status 200, got {response.status_code}\"\n        json_resp = response.json()\n        assert \"token\" in json_resp or \"jwt\" in json_resp, \"Response JSON does not contain JWT token\"\n        token = json_resp.get(\"token\") or json_resp.get(\"jwt\")\n        assert isinstance(token, str) and len(token) > 0, \"JWT token is empty or invalid\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed: {e}\"\n\ntest_user_login_with_valid_credentials()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 26, in <module>\n  File \"<string>\", line 18, in test_user_login_with_valid_credentials\nAssertionError: Expected status 200, got 401\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.849Z",
    "modified": "2025-12-12T06:07:40.103Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "85b78338-bd97-465e-b38f-2026d35867c5",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC002-test user registration with valid data",
    "description": "Verify that the /api/auth/register endpoint creates a new user when provided with valid registration data, returning a 201 status code.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:4000/api\"\nHEADERS = {\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef test_user_registration_with_valid_data():\n    url = f\"{BASE_URL}/auth/register\"\n    payload = {\n        \"email\": \"testuser@example.com\",\n        \"password\": \"TestPass123!\"\n    }\n    try:\n        response = requests.post(url, headers=HEADERS, json=payload, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request failed: {e}\"\n\n    assert response.status_code == 201, f\"Expected status code 201, got {response.status_code}\"\n\ntest_user_registration_with_valid_data()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 22, in <module>\n  File \"<string>\", line 20, in test_user_registration_with_valid_data\nAssertionError: Expected status code 201, got 400\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.856Z",
    "modified": "2025-12-12T06:07:43.870Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "b3634945-93b1-406f-ba7c-f3fdb5cfb7d9",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC003-test create new agent",
    "description": "Verify that the /api/agents POST endpoint creates a new AI voice agent with valid input data and returns a 201 status code.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:4000/api\"\nAUTH_TOKEN = \"your-super-secret-jwt-key-change-in-production\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {AUTH_TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\n\ndef test_create_new_agent():\n    url = f\"{BASE_URL}/agents\"\n    payload = {\n        \"name\": \"Test AI Voice Agent\",\n        \"description\": \"Agent created for testing TC003\",\n        \"voiceConfig\": {\n            \"language\": \"en-US\",\n            \"voice\": \"en-US-Wavenet-D\",\n            \"speed\": 1.0,\n            \"pitch\": 0.0\n        },\n        \"version\": \"1.0.0\",\n        \"enabled\": True,\n        \"integration\": {\n            \"type\": \"livekit_sip\",\n            \"settings\": {\n                \"sipUri\": \"sip:testagent@livekit.example.com\",\n                \"authorizationToken\": \"test-sip-auth-token\"\n            }\n        }\n    }\n    agent_id = None\n    try:\n        response = requests.post(url, headers=HEADERS, json=payload, timeout=30)\n        assert response.status_code == 201, f\"Expected status 201, got {response.status_code}\"\n        data = response.json()\n        # Validate response contains at least an 'id' field\n        assert \"id\" in data and isinstance(data[\"id\"], str) and data[\"id\"], \"Response JSON must contain agent 'id'\"\n        agent_id = data[\"id\"]\n    finally:\n        # Cleanup: delete created agent if it was created\n        if agent_id:\n            delete_url = f\"{BASE_URL}/agents/{agent_id}\"\n            try:\n                del_resp = requests.delete(delete_url, headers=HEADERS, timeout=30)\n                # It's okay if deletion failed, just log/assert silently here\n                assert del_resp.status_code == 200 or del_resp.status_code == 204, f\"Failed to delete agent {agent_id}\"\n            except Exception:\n                pass\n\ntest_create_new_agent()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 50, in <module>\n  File \"<string>\", line 34, in test_create_new_agent\nAssertionError: Expected status 201, got 401\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.862Z",
    "modified": "2025-12-12T06:07:41.635Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "c9fb3bb3-735e-4251-9cac-0fa52669d821",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC004-test update existing agent",
    "description": "Verify that the /api/agents/{id} PUT endpoint updates an existing AI voice agent's details correctly and returns a 200 status code.",
    "code": "import requests\n\nbase_url = \"http://localhost:4000/api\"\nheaders = {\n    \"Content-Type\": \"application/json\"\n}\ntimeout = 30\n\n\ndef test_update_existing_agent():\n    agent_create_url = f\"{base_url}/agents\"\n    agent_update_url_template = f\"{base_url}/agents/{{id}}\"\n    agent_delete_url_template = f\"{base_url}/agents/{{id}}\"\n\n    # Sample payload for creating an agent (adjust fields as needed)\n    create_payload = {\n        \"name\": \"Test Agent\",\n        \"voiceSettings\": {\n            \"language\": \"en-US\",\n            \"voice\": \"en-US-Wavenet-D\",\n            \"speed\": 1.0,\n            \"pitch\": 0.0\n        },\n        \"description\": \"Agent created for update test\"\n    }\n\n    # Sample payload for update\n    update_payload = {\n        \"name\": \"Updated Test Agent\",\n        \"voiceSettings\": {\n            \"language\": \"en-GB\",\n            \"voice\": \"en-GB-Wavenet-B\",\n            \"speed\": 0.9,\n            \"pitch\": 0.1\n        },\n        \"description\": \"Updated agent details for test\"\n    }\n\n    agent_id = None\n    try:\n        # Create an agent to update\n        create_resp = requests.post(\n            agent_create_url, json=create_payload, headers=headers, timeout=timeout\n        )\n        assert create_resp.status_code == 201, f\"Agent creation failed: {create_resp.text}\"\n        agent_data = create_resp.json()\n        agent_id = agent_data.get(\"id\")\n        assert agent_id is not None, \"Created agent ID not returned\"\n\n        # Update the existing agent\n        update_url = agent_update_url_template.format(id=agent_id)\n        update_resp = requests.put(\n            update_url, json=update_payload, headers=headers, timeout=timeout\n        )\n        assert update_resp.status_code == 200, f\"Agent update failed: {update_resp.text}\"\n        updated_data = update_resp.json()\n\n        # Validate updated fields\n        assert updated_data.get(\"name\") == update_payload[\"name\"], \"Agent name not updated\"\n        assert updated_data.get(\"description\") == update_payload[\"description\"], \"Agent description not updated\"\n\n        voice_settings = updated_data.get(\"voiceSettings\", {})\n        assert voice_settings.get(\"language\") == update_payload[\"voiceSettings\"][\"language\"], \"Language not updated\"\n        assert voice_settings.get(\"voice\") == update_payload[\"voiceSettings\"][\"voice\"], \"Voice not updated\"\n        assert abs(voice_settings.get(\"speed\", 0) - update_payload[\"voiceSettings\"][\"speed\"]) < 0.01, \"Speed not updated correctly\"\n        assert abs(voice_settings.get(\"pitch\", 0) - update_payload[\"voiceSettings\"][\"pitch\"]) < 0.01, \"Pitch not updated correctly\"\n\n    finally:\n        if agent_id:\n            delete_url = agent_delete_url_template.format(id=agent_id)\n            try:\n                del_resp = requests.delete(delete_url, headers=headers, timeout=timeout)\n                assert del_resp.status_code == 200, f\"Agent deletion failed: {del_resp.text}\"\n            except Exception:\n                pass\n\n\ntest_update_existing_agent()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 78, in <module>\n  File \"<string>\", line 45, in test_update_existing_agent\nAssertionError: Agent creation failed: {\"error\":\"Missing or invalid authorization header\"}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.868Z",
    "modified": "2025-12-12T06:08:04.685Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "b4279bd0-ecdb-4f62-9d68-6facf283538b",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC005-test delete agent by id",
    "description": "Verify that the /api/agents/{id} DELETE endpoint deletes the specified AI voice agent and returns a 200 status code.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:4000/api\"\nTOKEN = \"your-super-secret-jwt-key-change-in-production\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef test_delete_agent_by_id():\n    # Create a new agent to delete\n    create_agent_url = f\"{BASE_URL}/agents\"\n    agent_data = {\n        \"name\": f\"Test Agent {uuid.uuid4()}\",\n        \"description\": \"Temporary agent for deletion test\",\n        \"voiceConfig\": {\n            \"voice\": \"en-US-Wavenet-D\",\n            \"speed\": 1.0,\n            \"pitch\": 0.0\n        }\n    }\n    agent_id = None\n    try:\n        create_resp = requests.post(create_agent_url, json=agent_data, headers=HEADERS, timeout=TIMEOUT)\n        assert create_resp.status_code == 201, f\"Agent creation failed: {create_resp.text}\"\n        agent_id = create_resp.json().get(\"id\")\n        assert agent_id is not None, \"Created agent response missing 'id'\"\n\n        # Delete the created agent\n        delete_agent_url = f\"{BASE_URL}/agents/{agent_id}\"\n        delete_resp = requests.delete(delete_agent_url, headers=HEADERS, timeout=TIMEOUT)\n        assert delete_resp.status_code == 200, f\"Agent deletion failed: {delete_resp.text}\"\n\n        # Verify the agent no longer exists by attempting to GET it\n        get_resp = requests.get(delete_agent_url, headers=HEADERS, timeout=TIMEOUT)\n        assert get_resp.status_code == 404 or get_resp.status_code == 400, (\n            f\"Deleted agent still accessible, status code: {get_resp.status_code}\"\n        )\n\n    finally:\n        # Cleanup - In case the agent was not deleted during the test\n        if agent_id:\n            requests.delete(f\"{BASE_URL}/agents/{agent_id}\", headers=HEADERS, timeout=TIMEOUT)\n\ntest_delete_agent_by_id()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 47, in <module>\n  File \"<string>\", line 27, in test_delete_agent_by_id\nAssertionError: Agent creation failed: {\"error\":\"Invalid token\"}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.874Z",
    "modified": "2025-12-12T06:07:43.031Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "d461e28e-e954-4947-bac6-8a98db7afbb3",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC006-test list contacts with pagination and search",
    "description": "Verify that the /api/contacts GET endpoint returns a paginated list of contacts filtered by search query parameters, with a 200 status code.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:4000/api\"\nTOKEN = \"your-super-secret-jwt-key-change-in-production\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {TOKEN}\",\n    \"Accept\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef test_list_contacts_with_pagination_and_search():\n    params = {\n        \"page\": 1,\n        \"limit\": 10,\n        \"search\": \"test\"\n    }\n    try:\n        response = requests.get(\n            f\"{BASE_URL}/contacts\",\n            headers=HEADERS,\n            params=params,\n            timeout=TIMEOUT\n        )\n        assert response.status_code == 200, f\"Expected status code 200, got {response.status_code}\"\n\n        data = response.json()\n        # Validate pagination keys presence\n        assert isinstance(data, dict), \"Response is not a JSON object\"\n        # Common pagination response might have keys like items, total, page, limit\n        assert \"items\" in data or \"contacts\" in data, \"No contacts list found in response\"\n        assert \"page\" in data or \"currentPage\" in data, \"Pagination page info missing\"\n        assert \"limit\" in data or \"pageSize\" in data, \"Pagination limit info missing\"\n        # Validate that returned contacts match search query if possible\n        contacts = data.get(\"items\") or data.get(\"contacts\") or []\n        assert isinstance(contacts, list), \"Contacts is not a list\"\n        # Checking search filter effect if contacts returned\n        if contacts:\n            found = False\n            for contact in contacts:\n                # Check if search term appears in any string field of the contact\n                if any(isinstance(v, str) and params[\"search\"].lower() in v.lower() for v in contact.values()):\n                    found = True\n                    break\n            assert found, \"Search term not found in any returned contact\"\n\n    except requests.exceptions.RequestException as e:\n        assert False, f\"Request to list contacts failed: {e}\"\n\ntest_list_contacts_with_pagination_and_search()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 49, in <module>\n  File \"<string>\", line 24, in test_list_contacts_with_pagination_and_search\nAssertionError: Expected status code 200, got 401\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.880Z",
    "modified": "2025-12-12T06:07:41.233Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "5a4b1f40-87e0-4440-8670-4f59a52a30e8",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC007-test bulk import contacts from csv",
    "description": "Verify that the /api/contacts/bulk POST endpoint successfully imports multiple contacts from a CSV file and returns a 201 status code.",
    "code": "import requests\nfrom io import StringIO\n\nBASE_URL = \"http://localhost:4000/api\"\nTOKEN = \"your-super-secret-jwt-key-change-in-production\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {TOKEN}\",\n}\n\ndef test_bulk_import_contacts_from_csv():\n    csv_content = (\n        \"name,email,phone\\n\"\n        \"Alice Smith,alice.smith@example.com,+12345678901\\n\"\n        \"Bob Johnson,bob.johnson@example.com,+19876543210\\n\"\n        \"Charlie Rose,charlie.rose@example.com,+10987654321\\n\"\n    )\n    files = {\n        'file': ('contacts.csv', StringIO(csv_content), 'text/csv')\n    }\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/contacts/bulk\",\n            headers=HEADERS,\n            files=files,\n            timeout=30\n        )\n        assert response.status_code == 201, f\"Expected status code 201, got {response.status_code}\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed: {e}\"\n\ntest_bulk_import_contacts_from_csv()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 31, in <module>\n  File \"<string>\", line 27, in test_bulk_import_contacts_from_csv\nAssertionError: Expected status code 201, got 401\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.886Z",
    "modified": "2025-12-12T06:07:49.397Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "630bd91d-2a6f-453b-82ba-835df357de88",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC008-test initiate outbound call",
    "description": "Verify that the /api/calls/outbound POST endpoint initiates an outbound call with valid agentId and toNumber, returning a 201 status code.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:4000/api\"\nAUTH_TOKEN = \"your-super-secret-jwt-key-change-in-production\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {AUTH_TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef test_initiate_outbound_call():\n    # First, create a new agent to use its ID for the call initiation\n    agent_payload = {\n        \"name\": \"Test Agent for Outbound Call\",\n        \"description\": \"Agent created for testing outbound call initiation\"\n    }\n    agent_id = None\n    call_id = None\n\n    try:\n        # Create agent\n        resp_create_agent = requests.post(f\"{BASE_URL}/agents\", json=agent_payload, headers=HEADERS, timeout=TIMEOUT)\n        assert resp_create_agent.status_code == 201, f\"Agent creation failed: {resp_create_agent.text}\"\n        agent_data = resp_create_agent.json()\n        agent_id = agent_data.get(\"id\") or agent_data.get(\"agentId\")\n        assert agent_id, \"No agent ID returned from agent creation\"\n\n        # Use a valid phone number for testing - dummy/test number\n        to_number = \"+15555550100\"\n\n        # Initiate outbound call\n        call_payload = {\n            \"agentId\": agent_id,\n            \"toNumber\": to_number\n        }\n        resp_call = requests.post(f\"{BASE_URL}/calls/outbound\", json=call_payload, headers=HEADERS, timeout=TIMEOUT)\n        assert resp_call.status_code == 201, f\"Outbound call initiation failed: {resp_call.text}\"\n        call_data = resp_call.json()\n        call_id = call_data.get(\"id\") or call_data.get(\"callId\")\n\n        # Validate response contains expected keys (optional)\n        assert call_data.get(\"agentId\") == agent_id, \"Agent ID mismatch in call response\"\n        assert call_data.get(\"toNumber\") == to_number, \"To number mismatch in call response\"\n\n    finally:\n        # Clean up: delete created agent\n        if agent_id:\n            try:\n                requests.delete(f\"{BASE_URL}/agents/{agent_id}\", headers=HEADERS, timeout=TIMEOUT)\n            except Exception:\n                pass\n        # No API for deleting calls was described, so no call cleanup\n\ntest_initiate_outbound_call()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 54, in <module>\n  File \"<string>\", line 23, in test_initiate_outbound_call\nAssertionError: Agent creation failed: {\"error\":\"Invalid token\"}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.892Z",
    "modified": "2025-12-12T06:07:53.336Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "e0bc22fa-e87f-4d71-88f0-acae05261f9f",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC009-test create new campaign",
    "description": "Verify that the /api/campaigns POST endpoint creates a new batch calling campaign with valid data and returns a 201 status code.",
    "code": "import requests\nimport uuid\n\nBASE_URL = \"http://localhost:4000/api\"\nTOKEN = \"your-super-secret-jwt-key-change-in-production\"\nHEADERS = {\n    \"Authorization\": f\"Bearer {TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\ndef test_create_new_campaign():\n    campaign_data = {\n        \"name\": f\"Test Campaign {uuid.uuid4()}\",\n        \"description\": \"This is a test batch calling campaign created by automated test.\"\n    }\n\n    campaign_id = None\n    try:\n        # Create the campaign\n        response = requests.post(\n            f\"{BASE_URL}/campaigns\",\n            json=campaign_data,\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n\n        assert response.status_code == 201, f\"Expected 201, got {response.status_code}\"\n        json_resp = response.json()\n        assert isinstance(json_resp, dict), \"Response is not a JSON object\"\n        assert \"id\" in json_resp, \"Response JSON does not contain 'id'\"\n        campaign_id = json_resp[\"id\"]\n        assert json_resp.get(\"name\") == campaign_data[\"name\"], \"Campaign name mismatch in response\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed with exception: {e}\"\n    finally:\n        if campaign_id:\n            # Cleanup - delete the created campaign to keep environment clean\n            try:\n                del_resp = requests.delete(\n                    f\"{BASE_URL}/campaigns/{campaign_id}\",\n                    headers=HEADERS,\n                    timeout=TIMEOUT\n                )\n                # Accept 200 or 204 as successful deletion\n                assert del_resp.status_code in [200, 204], f\"Failed to delete campaign {campaign_id} (status {del_resp.status_code})\"\n            except requests.RequestException:\n                pass\n\ntest_create_new_campaign()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 50, in <module>\n  File \"<string>\", line 28, in test_create_new_campaign\nAssertionError: Expected 201, got 401\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.899Z",
    "modified": "2025-12-12T06:07:56.292Z"
  },
  {
    "projectId": "12eab59d-25a3-492a-af7b-6c2d1c92b3ec",
    "testId": "97c4282f-5e56-4603-b2e6-2911325db53e",
    "userId": "14786468-90a1-707d-910d-0584ba6f0dd5",
    "title": "TC010-test start campaign by id",
    "description": "Verify that the /api/campaigns/{id}/start POST endpoint starts the specified campaign and returns a 200 status code.",
    "code": "import requests\nimport os\n\nBASE_URL = \"http://localhost:4000/api\"\n\n# Set AUTH_TOKEN environment variable before running the test\nAUTH_TOKEN = os.getenv(\"AUTH_TOKEN\", \"your-valid-jwt-token-here\")\n\nHEADERS = {\n    \"Authorization\": f\"Bearer {AUTH_TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\nTIMEOUT = 30\n\n\ndef test_start_campaign_by_id():\n    campaign_id = None\n    # Create a campaign first to get a valid campaign id\n    create_campaign_url = f\"{BASE_URL}/campaigns\"\n    create_payload = {\n        \"name\": \"Test Campaign for Start\",\n        \"description\": \"Campaign created for testing start functionality\"\n    }\n\n    try:\n        # Create campaign\n        create_resp = requests.post(create_campaign_url, json=create_payload, headers=HEADERS, timeout=TIMEOUT)\n        assert create_resp.status_code == 201, f\"Failed to create campaign: {create_resp.text}\"\n        campaign = create_resp.json()\n        campaign_id = campaign.get(\"id\")\n        assert campaign_id, \"Campaign ID not returned after creation\"\n\n        # Start the campaign\n        start_url = f\"{BASE_URL}/campaigns/{campaign_id}/start\"\n        start_resp = requests.post(start_url, headers=HEADERS, timeout=TIMEOUT)\n        assert start_resp.status_code == 200, f\"Failed to start campaign {campaign_id}: {start_resp.text}\"\n\n    finally:\n        if campaign_id:\n            # Clean up by deleting the campaign\n            delete_url = f\"{BASE_URL}/campaigns/{campaign_id}\"\n            try:\n                del_resp = requests.delete(delete_url, headers=HEADERS, timeout=TIMEOUT)\n                assert del_resp.status_code == 200, f\"Failed to delete campaign {campaign_id}: {del_resp.text}\"\n            except Exception:\n                # Suppress exceptions in cleanup to not mask test failure\n                pass\n\n\ntest_start_campaign_by_id()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 50, in <module>\n  File \"<string>\", line 28, in test_start_campaign_by_id\nAssertionError: Failed to create campaign: {\"error\":\"Invalid token\"}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2025-12-12T06:07:11.905Z",
    "modified": "2025-12-12T06:08:04.678Z"
  }
]
